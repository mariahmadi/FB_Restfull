<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
</head>

<body>
    <div> Somthing here </div>
    <main>
        <form id="formID" method="post">
            <label for="username">username</label>
            <input id="user" type="text" />
            <label for="password">password</label>
            <input id="pass" type="text" />
            <button type="submit">ُSubmit</button>
        </form>

    </main>
    <script src="../public/auth.js"> </script>

    <script>
        const form = document.getElementById("formID")
        form.addEventListener("submit", (e) => {
            e.preventDefault()
            var username = document.getElementById("user").value
            var password = document.getElementById("pass").value

            const header1 = new Headers()


            header1.append("Access-Control-Allow-Credentials", 'true')
            header1.append("Access-Control-Allow-Origin", 'http://localhost:5000')
            header1.append('Content-Type', ' application/json');
            header1.append("Access-Control-Allow-Headers", "Content-Type")

            fetch("http://127.0.0.1:5000/users", {
                method: "POST",
                mode: "cors",
                credentials: "include",
                body: JSON.stringify({ username: username, password: password }),
                headers: {
                    "Content-Type": "application/json"
                }

            }).then(res => {
                console.log(res)
            })
        })


    </script>


</body>

</html>